<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GBA Emulator - Set Game</title>
    <script src="https://cdn.jsdelivr.net/npm/jsGBA/dist/jsGBA.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        canvas {
            border: 2px solid #000;
        }
    </style>
</head>
<body>
    <h1>Play GBA Game</h1>
    <canvas id="screen" width="240" height="160"></canvas>
    <br>
    <p>Loading game...</p>
    <script>
        // Initialize the GBA emulator
        const gba = new jsGBA(document.getElementById('screen'));

        // Function to load the ROM from the GitHub repository
        async function loadRomFromGitHub(url) {
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Failed to fetch the ROM');
                }
                const romData = await response.arrayBuffer(); // Load the ROM as binary data
                gba.loadRom(romData); // Load ROM into emulator
                gba.run(); // Start the emulator
                document.querySelector('p').innerText = "Game is running...";
            } catch (error) {
                document.querySelector('p').innerText = `Error: ${error.message}`;
            }
        }

        // URL to the GBA ROM in your GitHub repository (raw link)
        const romUrl = 'https://raw.githubusercontent.com/vbaemulator/GBA-Roms/main/LEGO%20Star%20Wars%20-%20The%20Video%20Game%20(USA%2C%20Europe)%20(En%2CFr%2CDe%2CEs%2CIt%2CNl%2CDa).zip';

        // Load the ROM when the page loads
        window.onload = () => {
            loadRomFromGitHub(romUrl);
        };
    </script>
</body>
</html>
